#include "volume_reader.hpp"
#include "rapidjson/document.h"
#include "rapidjson/writer.h"
#include "rapidjson/stringbuffer.h"
#include <fstream>
#include <string>

using namespace rapidjson;

bool ParseJSON(const std::string& fname)
{
  using namespace std;
  // read file
  ifstream in(fname.c_str());
  string contents((istreambuf_iterator<char>(in)), istreambuf_iterator<char>());  
  // parse into JSON
  Document d; d.Parse(contents.c_str());
  fprintf(stdout, "[json] successful loading %s\n", fname.c_str());
  // read JSON
  fprintf(stdout, "[json] volume information\n");
  fprintf(stdout, "[json]\t name: %s\n", d["name"].GetString());
}

bool ReadVolume(const char* fname, int& data_type, int& data_size, void* data_ptr)
{
  ParseJSON(fname);
  return false;
}
